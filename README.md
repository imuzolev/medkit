# Анализ содержимого аптечки

Flask-приложение для анализа содержимого аптечки с использованием компьютерного зрения.

## Описание

Веб-приложение для обработки и анализа изображений аптечки. Приложение позволяет загружать фотографии и обрабатывать их с помощью OpenCV и PIL.

## Технологии

- **Flask** - веб-фреймворк
- **OpenCV** - обработка изображений
- **PIL/Pillow** - работа с изображениями
- **NumPy** - численные вычисления

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/imuzolev/medkit.git
cd medkit
```

2. Создайте виртуальное окружение:
```bash
python -m venv venv
```

3. Активируйте виртуальное окружение:
- Windows:
```bash
venv\Scripts\activate
```
- Linux/Mac:
```bash
source venv/bin/activate
```

4. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск

```bash
python app.py
```

Приложение будет доступно по адресу: `http://localhost:5000`

## Структура проекта

```
medkit/
├── app.py              # Основной файл приложения
├── requirements.txt    # Зависимости проекта
├── templates/         # HTML шаблоны
│   └── index.html
└── static/           # Статические файлы (CSS, JS)
    └── style.css
```

## Использование

1. Откройте приложение в браузере
2. Нажмите "Загрузить фото"
3. Выберите изображение (JPG, PNG, WEBP)
4. Нажмите "Обработать"
5. Просмотрите результаты обработки

## Деплой

### Деплой через Coolify (рекомендуется)

Проект настроен для автоматического деплоя через [Coolify](https://coolify.io/).

#### Быстрая установка Coolify на сервер:

```powershell
# На локальном компьютере (Windows)
.\install_coolify.ps1
```

Или вручную на сервере:

```bash
# На сервере
curl -fsSL https://cdn.coollabs.io/coolify/install.sh | bash
```

#### Настройка автоматического деплоя:

1. Откройте Coolify UI: `http://2.56.240.119:8000`
2. Создайте новый проект
3. Подключите GitHub репозиторий: `imuzolev/medkit`
4. Настройте автоматический деплой из ветки `main`

#### Быстрый деплой на сервер:

```powershell
# Запустите скрипт деплоя (отправит изменения на GitHub, Coolify автоматически задеплоит)
.\deploy_to_server.ps1
```

После выполнения скрипта все изменения будут отправлены на GitHub, и Coolify автоматически задеплоит приложение на сервер.

### Локальный запуск с Docker

```bash
# Сборка образа
docker build -t medkit .

# Запуск контейнера
docker run -p 5000:5000 medkit
```

## Структура проекта

```
medkit/
├── app.py              # Основной файл приложения
├── requirements.txt    # Зависимости проекта
├── Dockerfile         # Конфигурация Docker
├── templates/         # HTML шаблоны
│   └── index.html
└── static/           # Статические файлы (CSS, JS)
    └── style.css
```

## Лицензия

MIT
